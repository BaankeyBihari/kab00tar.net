<!DOCTYPE html><html lang="en" class="casper"><head><link rel="alternate" type="application/rss+xml" title="Jamify RSS Feed" href="http://localhost:3000/rss.xml"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Updating package.json</title><meta name="description" content="I hate when my package.json doesn&#x27;t show the latest version after I upgrade my
repository. I am aware the latest version of these packages can be checked in 
package-lock.json or yarn.lock but still I hate if they are not present in my 
package.json

So what am I going to do about it?
Well I can delete and reinstall all the dependencies and devDependencies. Its
one of the most straightforward solution. So I wrote few lines of code which
does exactly the same in bash

For Yarn
# clean old or unwa"/><link rel="canonical" href="http://localhost:3000/updating-package-json"/><meta property="og:type" content="article"/><meta property="og:title" content="Updating package.json"/><meta property="og:description" content="I hate when my package.json doesn&#x27;t show the latest version after I upgrade my
repository. I am aware the latest version of these packages can be checked in 
package-lock.json or yarn.lock but still I hate if they are not present in my 
package.json

So what am I going to do about it?
Well I can delete and reinstall all the dependencies and devDependencies. Its
one of the most straightforward solution. So I wrote few lines of code which
does exactly the same in bash

For Yarn
# clean old or unwa"/><meta property="og:site_name" content="Updating package.json"/><meta property="og:url" content="http://localhost:3000/updating-package-json"/><meta property="article:published_time" content="2021-07-27T17:18:45.000+00:00"/><meta property="article:modified_time" content="2021-07-27T17:18:45.000+00:00"/><meta property="article:tag" content="npm"/><meta property="article:tag" content="bash"/><meta property="article:tag" content="yarn"/><meta property="article:tag" content="upgrading-packages"/><meta property="twitter:title" content="Updating package.json"/><meta property="twitter:description" content="I hate when my package.json doesn&#x27;t show the latest version after I upgrade my
repository. I am aware the latest version of these packages can be checked in 
package-lock.json or yarn.lock but still I hate if they are not present in my 
package.json

So what am I going to do about it?
Well I can delete and reinstall all the dependencies and devDependencies. Its
one of the most straightforward solution. So I wrote few lines of code which
does exactly the same in bash

For Yarn
# clean old or unwa"/><meta property="twitter:url" content="http://localhost:3000/updating-package-json"/><meta property="twitter:label1" content="Written by"/><meta property="twitter:data1" content="Sudhanshu"/><meta property="twitter:label2" content="Filed under"/><meta property="twitter:data2" content="npm"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:creator" content="@ghost"/><meta property="twitter:site" content="https://twitter.com/ghost/"/><meta name="twitter:image" content="https://images.unsplash.com/photo-1627396301006-df0f4c1cf221?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000"/><meta property="og:image" content="https://images.unsplash.com/photo-1627396301006-df0f4c1cf221?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000"/><meta property="og:image:width" content="2000"/><meta property="og:image:height" content="1336"/><script type="application/ld+json">{"@context":"https://schema.org/","@type":"Article","datePublished":"2021-07-27T17:18:45.000+00:00","dateModified":"2021-07-27T17:18:45.000+00:00","author":{"@type":"Article","name":"Sudhanshu","image":null},"keywords":"[object Object], [object Object], [object Object], [object Object]","headline":"Updating package.json","image":{"@type":"ImageObject","url":"https://images.unsplash.com/photo-1627396301006-df0f4c1cf221?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA&ixlib=rb-1.2.1&q=80&w=2000","width":2000,"height":1336},"publisher":{"@type":"Organization","name":"Updating package.json","logo":{"@type":"ImageObject","url":"http://localhost:3000/favicon.png","width":60,"height":60}},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:3000"},"description":"I hate when my package.json doesn't show the latest version after I upgrade my\nrepository. I am aware the latest version of these packages can be checked in \npackage-lock.json or yarn.lock but still I hate if they are not present in my \npackage.json\n\nSo what am I going to do about it?\nWell I can delete and reinstall all the dependencies and devDependencies. Its\none of the most straightforward solution. So I wrote few lines of code which\ndoes exactly the same in bash\n\nFor Yarn\n# clean old or unwa"}</script><meta name="next-head-count" content="31"/><link rel="preload" href="/_next/static/css/fe19bd5f8b7d7395d395.css" as="style"/><link rel="stylesheet" href="/_next/static/css/fe19bd5f8b7d7395d395.css" data-n-g=""/><link rel="preload" href="/_next/static/css/5027fe60d897e6a29875.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5027fe60d897e6a29875.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-6aa24242c38afc8913a0.js" defer=""></script><script src="/_next/static/chunks/framework-2191d16384373197bc0a.js" defer=""></script><script src="/_next/static/chunks/main-655ad0ce567efa01caa9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-34b6fa021757f9895390.js" defer=""></script><script src="/_next/static/chunks/139-4e43c9d942b83f21c331.js" defer=""></script><script src="/_next/static/chunks/534-a4599d8e987860b309aa.js" defer=""></script><script src="/_next/static/chunks/584-1318214604b1d4a6ed20.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...slug%5D-795a72970b71b4c0572e.js" defer=""></script><script src="/_next/static/J2dOewgR-al6_ke1EePal/_buildManifest.js" defer=""></script><script src="/_next/static/J2dOewgR-al6_ke1EePal/_ssgManifest.js" defer=""></script><style id="__jsx-948850211">a.jsx-948850211:hover{-webkit-text-decoration:none;text-decoration:none;opacity:1;cursor:pointer;}</style><style id="__jsx-2159338820">.jsx-2159338820{position:absolute;height:1px;width:1px;-webkit-clip:rect(1px,1px,1px,1px);clip:rect(1px,1px,1px,1px);border:0;overflow:hidden;}</style><style id="__jsx-3202127118">.jsx-3202127118{opacity:0;}@media (max-width:368px){.jsx-3202127118{padding:5.5rem 0 2rem;}}a.jsx-3202127118{left:unset;right:0;width:5rem;opacity:0;}div.jsx-3202127118 a.jsx-3202127118:hover{cursor:pointer;}</style></head><body class="post-template"><script>
            (function(){
                window.isDark = localStorage.getItem('dark');
                if ( window.isDark === 'dark' ) {
                  document.body.classList.add('dark')
                } else if( window.isDark === undefined && window.matchMedia('(prefers-color-scheme: dark)').matches === true ){
                  document.body.classList.add('dark')
                }
            })()
          </script><div id="__next"><div class="site-wrapper"><header class="site-header"><div class="outer site-nav-main "><div class="inner"><nav class="site-nav"><div class="site-nav-left-wrapper"><div class="site-nav-left"><a class="site-nav-logo" href="http://localhost:3000/">Freedom To Be</a><div class="site-nav-content"><ul class="nav" role="menu"><li class="nav-home" role="menuitem"><div><a href="/">Home</a></div></li><li class="nav-about" role="menuitem"><div><a href="/about">About</a></div></li><li class="nav-collection" role="menuitem"><div><a href="/tag/getting-started">Collection</a></div></li><li class="nav-author" role="menuitem"><div><a href="/author/ghost">Author</a></div></li><li class="nav-portal" role="menuitem"><div><a href="/portal">Portal</a></div></li><li class="nav-contact" role="menuitem"><div><a href="/contact">Contact</a></div></li></ul><span class="nav-post-title dash">Updating package.json</span></div></div></div><div class="site-nav-right"><ul class="nav" role="menu"><li class="nav-data &amp; privacy" role="menuitem"><div><a href="/privacy">Data &amp; privacy</a></div></li><li class="nav-contact" role="menuitem"><div><a href="/contact">Contact</a></div></li><li class="nav-contribute →" role="menuitem"><div><a href="/contribute">Contribute →</a></div></li></ul><button class="social-link social-link-tw" title="DarkMode" style="background-color:transparent"><svg viewBox="0 0 512 512"></svg></button><a class="jsx-948850211 subscribe-button">Subscribe</a></div></nav></div></div></header><main id="site-main" class="site-main outer "><div class="inner"><article class="post-full post tag-npm tag-bash tag-yarn tag-upgrading-packages featured"><header class="post-full-header"><section class="post-full-tags"><a href="/tag/npm">npm</a></section><h1 class="post-full-title">Updating package.json</h1><div class="post-full-byline"><section class="post-full-byline-content"><ul class="author-list"><li class="author-list-item"><div class="author-card "><div class="author-profile-image"></div><div class="author-info"><h2>Sudhanshu</h2><p>Read<!-- --> <a href="/author/sudhanshu">more posts</a> <!-- -->by this author<!-- -->.</p></div></div><a class="author-avatar author-profile-image" aria-label="Sudhanshu" href="/author/sudhanshu"><svg viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"></path></g></svg></a></li></ul><section class="post-full-byline-meta"><h4 class="author-name"><div><a href="/author/sudhanshu">Sudhanshu</a></div></h4><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2021-07-27T17:18:45.000+00:00">27 July, 2021<!-- --> </time><span class="byline-reading-time"><span class="bull">•</span> <!-- -->2 min read</span></div></section></section></div></header><figure class="post-full-image" style="display:inherit"><div style="display:block;overflow:hidden;position:relative;box-sizing:border-box;margin:0"><div style="display:block;box-sizing:border-box;padding-top:66.8%"></div><noscript><img alt="Updating package.json" sizes="
                              (max-width: 350px) 350px,
                              (max-width: 530px) 530px,
                              (max-width: 710px) 710px,
                              (max-width: 1170px) 1170px,
                              (max-width: 2110px) 2110px, 2000px
                            " srcSet="/_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=16&amp;q=80 16w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=32&amp;q=80 32w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=48&amp;q=80 48w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=64&amp;q=80 64w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=96&amp;q=80 96w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=128&amp;q=80 128w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=256&amp;q=80 256w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=320&amp;q=80 320w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=384&amp;q=80 384w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=500&amp;q=80 500w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=680&amp;q=80 680w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=1040&amp;q=80 1040w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=2048&amp;q=80 2048w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=2080&amp;q=80 2080w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=3120&amp;q=80 3120w" src="/_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1627396301006-df0f4c1cf221%3Fcrop%3Dentropy%26cs%3Dtinysrgb%26fit%3Dmax%26fm%3Djpg%26ixid%3DMnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA%26ixlib%3Drb-1.2.1%26q%3D80%26w%3D2000&amp;w=3120&amp;q=80" decoding="async" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/></noscript><img alt="Updating package.json" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/></div></figure><section class="post-full-content"><aside class="toc"><nav><h2>Table of Contents</h2><ul class="list"><li><a class="link" href="/updating-package-json#so-what-am-i-going-to-do-about-it">So what am I going to do about it?</a><ul class="sub"><li><a class="link" href="/updating-package-json#for-yarn">For Yarn</a></li><li><a class="link" href="/updating-package-json#for-npm">For NPM</a></li></ul></li><li><a class="link" href="/updating-package-json#future-road-map">Future Road Map</a></li></ul></nav></aside><div class="post-content load-external-scripts"><p>I hate when my <code>package.json</code> doesn&#x27;t show the latest version after I upgrade my repository. I am aware the latest version of these packages can be checked in <code>package-lock.json</code> or <code>yarn.lock</code> but still I hate if they are not present in my <code>package.json</code></p><h2 id="so-what-am-i-going-to-do-about-it">So what am I going to do about it?</h2><p>Well I can delete and reinstall all the <code>dependencies</code> and <code>devDependencies</code>. Its one of the most straightforward solution. So I wrote few lines of code which does exactly the same in <code>bash</code></p><h3 id="for-yarn">For Yarn</h3><pre><code class="language-bash"><span class="token comment"># clean old or unwanted files</span>
<span class="token function">rm</span> new_package.json
<span class="token function">rm</span> -rf node_modules
<span class="token function">rm</span> -rf yarn.lock
<span class="token function">rm</span> package-lock.json

<span class="token comment"># clean package.json</span>
<span class="token assign-left variable">dependencies</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">awk</span> <span class="token string">&#x27;BEGIN{flag=0} /dependencies/{flag=1; next} /\}/{flag=0} flag{print $1}&#x27;</span> package.json <span class="token operator">|</span> <span class="token function">cut</span> -f <span class="token number">2</span> -d <span class="token string">&#x27;&quot;&#x27;</span><span class="token variable">)</span></span>
<span class="token assign-left variable">devDependencies</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">awk</span> <span class="token string">&#x27;BEGIN{flag=0} /devDependencies/{flag=1; next} /\}/{flag=0} flag{print $1}&#x27;</span> package.json <span class="token operator">|</span> <span class="token function">cut</span> -f <span class="token number">2</span> -d <span class="token string">&#x27;&quot;&#x27;</span><span class="token variable">)</span></span>
<span class="token function">awk</span> <span class="token string">&#x27;BEGIN{flag=1} /dependencies/{print; flag=0} /\}/{flag=1} flag{print}&#x27;</span> package.json <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#x27;BEGIN{flag=1} /devDependencies/{print; flag=0} /\}/{flag=1} flag{print}&#x27;</span> <span class="token operator">|</span> <span class="token function">tee</span> new_package.json
<span class="token function">cat</span> new_package.json <span class="token operator">&gt;</span> package.json

<span class="token comment"># install dependencies and devDependencies</span>
<span class="token function">yarn</span> <span class="token function">add</span> <span class="token variable">${dependencies}</span>
<span class="token function">yarn</span> <span class="token function">add</span> -D <span class="token variable">${devDependencies}</span>

<span class="token comment"># Fix versions of errant packages which won&#x27;t work with latest versions</span>
<span class="token function">sed</span> -i <span class="token string">&#x27;s/&quot;refractor&quot;: .*&quot;/&quot;refractor&quot;: &quot;\^3.4.0&quot;/g&#x27;</span> package.json
<span class="token function">sed</span> -i <span class="token string">&#x27;s/&quot;unist-util-visit&quot;: &quot;.*&quot;/&quot;unist-util-visit&quot;: &quot;^2.0.3&quot;/g&#x27;</span> package.json

<span class="token comment"># clean old or unwanted files</span>
<span class="token function">rm</span> new_package.json
<span class="token function">rm</span> -rf node_modules
<span class="token function">rm</span> -rf yarn.lock
<span class="token function">rm</span> package-lock.json

<span class="token comment"># install in one-shot</span>
<span class="token function">yarn</span></code></pre><h3 id="for-npm">For NPM</h3><pre><code class="language-bash"><span class="token comment"># clean old or unwanted files</span>
<span class="token function">rm</span> new_package.json
<span class="token function">rm</span> -rf node_modules
<span class="token function">rm</span> -rf yarn.lock
<span class="token function">rm</span> package-lock.json

<span class="token comment"># clean package.json</span>
<span class="token assign-left variable">dependencies</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">awk</span> <span class="token string">&#x27;BEGIN{flag=0} /dependencies/{flag=1; next} /\}/{flag=0} flag{print $1}&#x27;</span> package.json <span class="token operator">|</span> <span class="token function">cut</span> -f <span class="token number">2</span> -d <span class="token string">&#x27;&quot;&#x27;</span><span class="token variable">)</span></span>
<span class="token assign-left variable">devDependencies</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">awk</span> <span class="token string">&#x27;BEGIN{flag=0} /devDependencies/{flag=1; next} /\}/{flag=0} flag{print $1}&#x27;</span> package.json <span class="token operator">|</span> <span class="token function">cut</span> -f <span class="token number">2</span> -d <span class="token string">&#x27;&quot;&#x27;</span><span class="token variable">)</span></span>
<span class="token function">awk</span> <span class="token string">&#x27;BEGIN{flag=1} /dependencies/{print; flag=0} /\}/{flag=1} flag{print}&#x27;</span> package.json <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#x27;BEGIN{flag=1} /devDependencies/{print; flag=0} /\}/{flag=1} flag{print}&#x27;</span> <span class="token operator">|</span> <span class="token function">tee</span> new_package.json
<span class="token function">cat</span> new_package.json <span class="token operator">&gt;</span> package.json

<span class="token comment"># install dependencies and devDependencies</span>
<span class="token function">npm</span> -i <span class="token variable">${dependencies}</span>
<span class="token function">npm</span> -i -D <span class="token variable">${devDependencies}</span>

<span class="token comment"># Fix versions of errant packages which won&#x27;t work with latest versions</span>
<span class="token function">sed</span> -i <span class="token string">&#x27;s/&quot;refractor&quot;: .*&quot;/&quot;refractor&quot;: &quot;\^3.4.0&quot;/g&#x27;</span> package.json
<span class="token function">sed</span> -i <span class="token string">&#x27;s/&quot;unist-util-visit&quot;: &quot;.*&quot;/&quot;unist-util-visit&quot;: &quot;^2.0.3&quot;/g&#x27;</span> package.json

<span class="token comment"># clean old or unwanted files</span>
<span class="token function">rm</span> new_package.json
<span class="token function">rm</span> -rf node_modules
<span class="token function">rm</span> -rf yarn.lock
<span class="token function">rm</span> package-lock.json

<span class="token comment"># install in one-shot</span>
<span class="token function">npm</span> <span class="token function">install</span></code></pre><h2 id="future-road-map">Future Road Map</h2><p>Well current solution is less than ideal and works only in Linux/Unix systems. In future I will try to make it happen for Windows platform as well.</p></div></section><section class="subscribe-form"><h3 class="subscribe-form-title">Subscribe to<!-- --> <!-- -->Freedom To Be</h3><p class="subscribe-form-description">Get the latest posts delivered right to your inbox</p><form class="" data-members-form="subscribe"><div class="form-group"><label for="email" class="jsx-2159338820">Email</label><input type="email" id="email" name="email" value="" class="subscribe-email" data-members-email="true" placeholder="youremail@example.com" autoComplete="false"/><button class="button primary" type="submit" value="Submit"><span class="button-content">Subscribe</span><span class="button-loader"><svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 40 40" enable-background="new 0 0 40 40"><path opacity="0.2" fill="#000" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"></path><path fill="#000" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" dur="0.5s" repeatCount="indefinite"></animateTransform></path></svg></span></button></div><div class="message-success"><strong>Great!</strong> <!-- -->Check your inbox and click the link to confirm your subscription<!-- -->.</div><div class="message-error">Please enter a valid email address<!-- -->!</div></form></section></article></div></main><aside class="read-next outer"><div class="inner"><div class="read-next-feed"></div></div></aside><footer class="site-footer outer"><div class="site-footer-content inner"><section class="copyright"><a href="http://localhost:3000/">Freedom To Be</a> © <!-- -->2021</section><nav class="site-footer-nav"><a href="/">Latest Posts</a><a href="https://www.facebook.com/ghost" target="_blank" rel="noopener noreferrer">Facebook</a><a href="https://twitter.com/ghost" target="_blank" rel="noopener noreferrer">Twitter</a><a href="https://www.jamify.org" target="_blank" rel="noopener noreferrer">Jamify</a></nav></div></footer></div><div class="jsx-3202127118 subscribe-notification subscribe--message"><a class="jsx-3202127118 subscribe-close-button"></a>Could not sign up! Invalid sign up link.</div><div class="subscribe-overlay" style="opacity:0;pointer-events:none"><a class="subscribe-close-overlay"></a><a class="subscribe-close-button"></a><div class="subscribe-overlay-content"><img class="subscribe-overlay-logo" src="favicon.png" alt="Freedom To Be"/><div class="subscribe-form"><h1 class="subscribe-overlay-title">Subscribe to<!-- --> <!-- -->Freedom To Be</h1><p class="subscribe-overlay-description">Stay up to date! Get all the latest &amp; greatest posts delivered straight to your inbox</p><form class="" data-members-form="subscribe"><div class="form-group"><label for="email" class="jsx-2159338820">Email</label><input type="email" id="email" name="email" value="" class="subscribe-email" data-members-email="true" placeholder="youremail@example.com" autoComplete="false"/><button class="button primary" type="submit" value="Submit"><span class="button-content">Subscribe</span><span class="button-loader"><svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 40 40" enable-background="new 0 0 40 40"><path opacity="0.2" fill="#000" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"></path><path fill="#000" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" dur="0.5s" repeatCount="indefinite"></animateTransform></path></svg></span></button></div><div class="message-success"><strong>Great!</strong> <!-- -->Check your inbox and click the link to confirm your subscription<!-- -->.</div><div class="message-error">Please enter a valid email address<!-- -->!</div></form></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"cmsData":{"settings":{"processEnv":{"siteUrl":"http://localhost:3000","platform":"vercel","darkMode":{"defaultMode":"light","overrideOS":true},"nextImages":{"feature":true,"inline":true,"quality":80,"source":false},"rssFeed":true,"memberSubscriptions":true,"commenting":{"system":null,"commentoUrl":"https://cdn.commento.io","disqusShortname":"short-name-here"},"prism":{"enable":true,"ignoreMissing":true},"contactPage":true,"toc":{"enable":true,"maxDepth":2},"customNavigation":[{"label":"Contact","url":"/contact"}],"isr":{"enable":false,"maxNumberOfPosts":20,"maxNumberOfPages":20}},"title":"Freedom To Be","description":"Thoughts, stories and ideas.","logo":null,"icon":null,"accent_color":"#FF1A75","cover_image":"https://static.ghost.org/v4.0.0/images/publication-cover.jpg","facebook":"ghost","twitter":"@ghost","lang":"en","locale":"en","timezone":"Etc/UTC","codeinjection_head":null,"codeinjection_foot":null,"navigation":[{"label":"Home","url":"/"},{"label":"About","url":"/about/"},{"label":"Collection","url":"/tag/getting-started/"},{"label":"Author","url":"/author/ghost/"},{"label":"Portal","url":"/portal/"},{"label":"Contact","url":"/contact"}],"secondary_navigation":[{"label":"Data \u0026 privacy","url":"/privacy/"},{"label":"Contact","url":"/contact/"},{"label":"Contribute →","url":"/contribute/"}],"meta_title":null,"meta_description":null,"og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"members_support_address":"noreply","url":"http://localhost:2368","coverImage":{"url":"https://static.ghost.org/v4.0.0/images/publication-cover.jpg","dimensions":{"width":7183,"height":2885}}},"post":{"slug":"updating-package-json","id":"61003da385a1c51a91941926","uuid":"8da7fd9b-dfea-45d0-a56d-6a293b76e734","title":"Updating package.json","html":"\u003cp\u003eI hate when my \u003ccode\u003epackage.json\u003c/code\u003e doesn't show the latest version after I upgrade my repository. I am aware the latest version of these packages can be checked in \u003ccode\u003epackage-lock.json\u003c/code\u003e or \u003ccode\u003eyarn.lock\u003c/code\u003e but still I hate if they are not present in my \u003ccode\u003epackage.json\u003c/code\u003e\u003c/p\u003e\u003ch2 id=\"so-what-am-i-going-to-do-about-it\"\u003eSo what am I going to do about it?\u003c/h2\u003e\u003cp\u003eWell I can delete and reinstall all the \u003ccode\u003edependencies\u003c/code\u003e and \u003ccode\u003edevDependencies\u003c/code\u003e. Its one of the most straightforward solution. So I wrote few lines of code which does exactly the same in \u003ccode\u003ebash\u003c/code\u003e\u003c/p\u003e\u003ch3 id=\"for-yarn\"\u003eFor Yarn\u003c/h3\u003e\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# clean old or unwanted files\nrm new_package.json\nrm -rf node_modules\nrm -rf yarn.lock\nrm package-lock.json\n\n# clean package.json\ndependencies=$(awk 'BEGIN{flag=0} /dependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}' package.json | cut -f 2 -d '\"')\ndevDependencies=$(awk 'BEGIN{flag=0} /devDependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}' package.json | cut -f 2 -d '\"')\nawk 'BEGIN{flag=1} /dependencies/{print; flag=0} /\\}/{flag=1} flag{print}' package.json | awk 'BEGIN{flag=1} /devDependencies/{print; flag=0} /\\}/{flag=1} flag{print}' | tee new_package.json\ncat new_package.json \u0026gt; package.json\n\n# install dependencies and devDependencies\nyarn add ${dependencies}\nyarn add -D ${devDependencies}\n\n# Fix versions of errant packages which won't work with latest versions\nsed -i 's/\"refractor\": .*\"/\"refractor\": \"\\^3.4.0\"/g' package.json\nsed -i 's/\"unist-util-visit\": \".*\"/\"unist-util-visit\": \"^2.0.3\"/g' package.json\n\n# clean old or unwanted files\nrm new_package.json\nrm -rf node_modules\nrm -rf yarn.lock\nrm package-lock.json\n\n# install in one-shot\nyarn\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"for-npm\"\u003eFor NPM\u003c/h3\u003e\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# clean old or unwanted files\nrm new_package.json\nrm -rf node_modules\nrm -rf yarn.lock\nrm package-lock.json\n\n# clean package.json\ndependencies=$(awk 'BEGIN{flag=0} /dependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}' package.json | cut -f 2 -d '\"')\ndevDependencies=$(awk 'BEGIN{flag=0} /devDependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}' package.json | cut -f 2 -d '\"')\nawk 'BEGIN{flag=1} /dependencies/{print; flag=0} /\\}/{flag=1} flag{print}' package.json | awk 'BEGIN{flag=1} /devDependencies/{print; flag=0} /\\}/{flag=1} flag{print}' | tee new_package.json\ncat new_package.json \u0026gt; package.json\n\n# install dependencies and devDependencies\nnpm -i ${dependencies}\nnpm -i -D ${devDependencies}\n\n# Fix versions of errant packages which won't work with latest versions\nsed -i 's/\"refractor\": .*\"/\"refractor\": \"\\^3.4.0\"/g' package.json\nsed -i 's/\"unist-util-visit\": \".*\"/\"unist-util-visit\": \"^2.0.3\"/g' package.json\n\n# clean old or unwanted files\nrm new_package.json\nrm -rf node_modules\nrm -rf yarn.lock\nrm package-lock.json\n\n# install in one-shot\nnpm install\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"future-road-map\"\u003eFuture Road Map\u003c/h2\u003e\u003cp\u003eWell current solution is less than ideal and works only in Linux/Unix systems. In future I will try to make it happen for Windows platform as well.\u003c/p\u003e","comment_id":"61003da385a1c51a91941926","feature_image":"https://images.unsplash.com/photo-1627396301006-df0f4c1cf221?crop=entropy\u0026cs=tinysrgb\u0026fit=max\u0026fm=jpg\u0026ixid=MnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA\u0026ixlib=rb-1.2.1\u0026q=80\u0026w=2000","featured":false,"visibility":"public","email_recipient_filter":"none","created_at":"2021-07-27T17:08:51.000+00:00","updated_at":"2021-07-27T17:18:45.000+00:00","published_at":"2021-07-27T17:18:45.000+00:00","custom_excerpt":null,"codeinjection_head":null,"codeinjection_foot":null,"custom_template":null,"canonical_url":null,"tags":[{"id":"61003ff585a1c51a9194195e","name":"npm","slug":"npm","description":null,"feature_image":null,"visibility":"public","og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"meta_title":null,"meta_description":null,"codeinjection_head":null,"codeinjection_foot":null,"canonical_url":null,"accent_color":null,"url":"http://localhost:2368/tag/npm/"},{"id":"61003ff585a1c51a9194195f","name":"bash","slug":"bash","description":null,"feature_image":null,"visibility":"public","og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"meta_title":null,"meta_description":null,"codeinjection_head":null,"codeinjection_foot":null,"canonical_url":null,"accent_color":null,"url":"http://localhost:2368/tag/bash/"},{"id":"61003ff585a1c51a91941960","name":"yarn","slug":"yarn","description":null,"feature_image":null,"visibility":"public","og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"meta_title":null,"meta_description":null,"codeinjection_head":null,"codeinjection_foot":null,"canonical_url":null,"accent_color":null,"url":"http://localhost:2368/tag/yarn/"},{"id":"61003ff585a1c51a91941961","name":"upgrading-packages","slug":"upgrading-packages","description":null,"feature_image":null,"visibility":"public","og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"meta_title":null,"meta_description":null,"codeinjection_head":null,"codeinjection_foot":null,"canonical_url":null,"accent_color":null,"url":"http://localhost:2368/tag/upgrading-packages/"}],"authors":[{"id":"1","name":"Sudhanshu","slug":"sudhanshu","profile_image":null,"cover_image":null,"bio":null,"website":null,"location":null,"facebook":null,"twitter":null,"meta_title":null,"meta_description":null,"url":"http://localhost:2368/author/sudhanshu/"}],"primary_author":{"id":"1","name":"Sudhanshu","slug":"sudhanshu","profile_image":null,"cover_image":null,"bio":null,"website":null,"location":null,"facebook":null,"twitter":null,"meta_title":null,"meta_description":null,"url":"http://localhost:2368/author/sudhanshu/"},"primary_tag":{"slug":"npm","id":"61003ff585a1c51a9194195e","name":"npm","description":null,"feature_image":null,"visibility":"public","og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"meta_title":null,"meta_description":null,"codeinjection_head":null,"codeinjection_foot":null,"canonical_url":null,"accent_color":null,"count":{"posts":1},"url":"http://localhost:2368/tag/npm/"},"url":"http://localhost:2368/updating-package-json/","excerpt":"I hate when my package.json doesn't show the latest version after I upgrade my\nrepository. I am aware the latest version of these packages can be checked in \npackage-lock.json or yarn.lock but still I hate if they are not present in my \npackage.json\n\nSo what am I going to do about it?\nWell I can delete and reinstall all the dependencies and devDependencies. Its\none of the most straightforward solution. So I wrote few lines of code which\ndoes exactly the same in bash\n\nFor Yarn\n# clean old or unwa","reading_time":2,"access":true,"send_email_when_published":false,"og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"meta_title":null,"meta_description":null,"email_subject":null,"frontmatter":null,"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I hate when my ","position":{"start":{"line":1,"column":4,"offset":3},"end":{"line":1,"column":19,"offset":18}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json","position":{"start":{"line":1,"column":25,"offset":24},"end":{"line":1,"column":37,"offset":36}}}],"position":{"start":{"line":1,"column":19,"offset":18},"end":{"line":1,"column":44,"offset":43}}},{"type":"text","value":" doesn't show the latest version after I upgrade my repository. I am aware the latest version of these packages can be checked in ","position":{"start":{"line":1,"column":44,"offset":43},"end":{"line":1,"column":174,"offset":173}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package-lock.json","position":{"start":{"line":1,"column":180,"offset":179},"end":{"line":1,"column":197,"offset":196}}}],"position":{"start":{"line":1,"column":174,"offset":173},"end":{"line":1,"column":204,"offset":203}}},{"type":"text","value":" or ","position":{"start":{"line":1,"column":204,"offset":203},"end":{"line":1,"column":208,"offset":207}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"yarn.lock","position":{"start":{"line":1,"column":214,"offset":213},"end":{"line":1,"column":223,"offset":222}}}],"position":{"start":{"line":1,"column":208,"offset":207},"end":{"line":1,"column":230,"offset":229}}},{"type":"text","value":" but still I hate if they are not present in my ","position":{"start":{"line":1,"column":230,"offset":229},"end":{"line":1,"column":278,"offset":277}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json","position":{"start":{"line":1,"column":284,"offset":283},"end":{"line":1,"column":296,"offset":295}}}],"position":{"start":{"line":1,"column":278,"offset":277},"end":{"line":1,"column":303,"offset":302}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":307,"offset":306}}},{"type":"element","tagName":"h2","properties":{"id":"so-what-am-i-going-to-do-about-it"},"children":[{"type":"text","value":"So what am I going to do about it?","position":{"start":{"line":1,"column":350,"offset":349},"end":{"line":1,"column":384,"offset":383}}}],"position":{"start":{"line":1,"column":307,"offset":306},"end":{"line":1,"column":389,"offset":388}}},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Well I can delete and reinstall all the ","position":{"start":{"line":1,"column":392,"offset":391},"end":{"line":1,"column":432,"offset":431}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"dependencies","position":{"start":{"line":1,"column":438,"offset":437},"end":{"line":1,"column":450,"offset":449}}}],"position":{"start":{"line":1,"column":432,"offset":431},"end":{"line":1,"column":457,"offset":456}}},{"type":"text","value":" and ","position":{"start":{"line":1,"column":457,"offset":456},"end":{"line":1,"column":462,"offset":461}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"devDependencies","position":{"start":{"line":1,"column":468,"offset":467},"end":{"line":1,"column":483,"offset":482}}}],"position":{"start":{"line":1,"column":462,"offset":461},"end":{"line":1,"column":490,"offset":489}}},{"type":"text","value":". Its one of the most straightforward solution. So I wrote few lines of code which does exactly the same in ","position":{"start":{"line":1,"column":490,"offset":489},"end":{"line":1,"column":598,"offset":597}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bash","position":{"start":{"line":1,"column":604,"offset":603},"end":{"line":1,"column":608,"offset":607}}}],"position":{"start":{"line":1,"column":598,"offset":597},"end":{"line":1,"column":615,"offset":614}}}],"position":{"start":{"line":1,"column":389,"offset":388},"end":{"line":1,"column":619,"offset":618}}},{"type":"element","tagName":"h3","properties":{"id":"for-yarn"},"children":[{"type":"text","value":"For Yarn","position":{"start":{"line":1,"column":637,"offset":636},"end":{"line":1,"column":645,"offset":644}}}],"position":{"start":{"line":1,"column":619,"offset":618},"end":{"line":1,"column":650,"offset":649}}},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# clean old or unwanted files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" new_package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf node_modules\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf yarn.lock\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" package-lock.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# clean package.json"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"dependencies"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=0} /dependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}'"}]},{"type":"text","value":" package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cut"}]},{"type":"text","value":" -f "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"text","value":" -d "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\"'"}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"devDependencies"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=0} /devDependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}'"}]},{"type":"text","value":" package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cut"}]},{"type":"text","value":" -f "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"text","value":" -d "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\"'"}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=1} /dependencies/{print; flag=0} /\\}/{flag=1} flag{print}'"}]},{"type":"text","value":" package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=1} /devDependencies/{print; flag=0} /\\}/{flag=1} flag{print}'"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"tee"}]},{"type":"text","value":" new_package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cat"}]},{"type":"text","value":" new_package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"\u003e"}]},{"type":"text","value":" package.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# install dependencies and devDependencies"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"add"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"${dependencies}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"add"}]},{"type":"text","value":" -D "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"${devDependencies}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Fix versions of errant packages which won't work with latest versions"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sed"}]},{"type":"text","value":" -i "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'s/\"refractor\": .*\"/\"refractor\": \"\\^3.4.0\"/g'"}]},{"type":"text","value":" package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sed"}]},{"type":"text","value":" -i "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'s/\"unist-util-visit\": \".*\"/\"unist-util-visit\": \"^2.0.3\"/g'"}]},{"type":"text","value":" package.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# clean old or unwanted files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" new_package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf node_modules\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf yarn.lock\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" package-lock.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# install in one-shot"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]}],"position":{"start":{"line":1,"column":655,"offset":654},"end":{"line":28,"column":12,"offset":1758}}}],"position":{"start":{"line":1,"column":650,"offset":649},"end":{"line":28,"column":18,"offset":1764}}},{"type":"element","tagName":"h3","properties":{"id":"for-npm"},"children":[{"type":"text","value":"For NPM","position":{"start":{"line":28,"column":35,"offset":1781},"end":{"line":28,"column":42,"offset":1788}}}],"position":{"start":{"line":28,"column":18,"offset":1764},"end":{"line":28,"column":47,"offset":1793}}},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# clean old or unwanted files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" new_package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf node_modules\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf yarn.lock\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" package-lock.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# clean package.json"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"dependencies"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=0} /dependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}'"}]},{"type":"text","value":" package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cut"}]},{"type":"text","value":" -f "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"text","value":" -d "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\"'"}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"devDependencies"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=0} /devDependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}'"}]},{"type":"text","value":" package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cut"}]},{"type":"text","value":" -f "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"text","value":" -d "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\"'"}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=1} /dependencies/{print; flag=0} /\\}/{flag=1} flag{print}'"}]},{"type":"text","value":" package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=1} /devDependencies/{print; flag=0} /\\}/{flag=1} flag{print}'"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"tee"}]},{"type":"text","value":" new_package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cat"}]},{"type":"text","value":" new_package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"\u003e"}]},{"type":"text","value":" package.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# install dependencies and devDependencies"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" -i "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"${dependencies}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" -i -D "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"${devDependencies}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Fix versions of errant packages which won't work with latest versions"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sed"}]},{"type":"text","value":" -i "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'s/\"refractor\": .*\"/\"refractor\": \"\\^3.4.0\"/g'"}]},{"type":"text","value":" package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sed"}]},{"type":"text","value":" -i "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'s/\"unist-util-visit\": \".*\"/\"unist-util-visit\": \"^2.0.3\"/g'"}]},{"type":"text","value":" package.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# clean old or unwanted files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" new_package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf node_modules\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf yarn.lock\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" package-lock.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# install in one-shot"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]}],"position":{"start":{"line":28,"column":52,"offset":1798},"end":{"line":55,"column":19,"offset":2905}}}],"position":{"start":{"line":28,"column":47,"offset":1793},"end":{"line":55,"column":25,"offset":2911}}},{"type":"element","tagName":"h2","properties":{"id":"future-road-map"},"children":[{"type":"text","value":"Future Road Map","position":{"start":{"line":55,"column":50,"offset":2936},"end":{"line":55,"column":65,"offset":2951}}}],"position":{"start":{"line":55,"column":25,"offset":2911},"end":{"line":55,"column":70,"offset":2956}}},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Well current solution is less than ideal and works only in Linux/Unix systems. In future I will try to make it happen for Windows platform as well.","position":{"start":{"line":55,"column":73,"offset":2959},"end":{"line":55,"column":220,"offset":3106}}}],"position":{"start":{"line":55,"column":70,"offset":2956},"end":{"line":55,"column":224,"offset":3110}}}],"data":{"quirksMode":false},"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":55,"column":224,"offset":3110}}},"featureImage":{"url":"https://images.unsplash.com/photo-1627396301006-df0f4c1cf221?crop=entropy\u0026cs=tinysrgb\u0026fit=max\u0026fm=jpg\u0026ixid=MnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA\u0026ixlib=rb-1.2.1\u0026q=80\u0026w=2000","dimensions":{"width":2000,"height":1336}},"toc":[{"id":"so-what-am-i-going-to-do-about-it","heading":"So what am I going to do about it?","items":[{"id":"for-yarn","heading":"For Yarn"},{"id":"for-npm","heading":"For NPM"}]},{"id":"future-road-map","heading":"Future Road Map"}]},"page":null,"contactPage":null,"isPost":true,"seoImage":{"url":"https://images.unsplash.com/photo-1627396301006-df0f4c1cf221?crop=entropy\u0026cs=tinysrgb\u0026fit=max\u0026fm=jpg\u0026ixid=MnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA\u0026ixlib=rb-1.2.1\u0026q=80\u0026w=2000","dimensions":{"width":2000,"height":1336}},"previewPosts":[],"prevPost":null,"nextPost":null,"bodyClass":"post-template"}},"__N_SSG":true},"page":"/[...slug]","query":{"slug":["updating-package-json"]},"buildId":"J2dOewgR-al6_ke1EePal","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>