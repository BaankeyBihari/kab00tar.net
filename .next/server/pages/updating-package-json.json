{"pageProps":{"cmsData":{"settings":{"processEnv":{"siteUrl":"http://localhost:3000","platform":"vercel","darkMode":{"defaultMode":"light","overrideOS":true},"nextImages":{"feature":true,"inline":true,"quality":80,"source":false},"rssFeed":true,"memberSubscriptions":true,"commenting":{"system":null,"commentoUrl":"https://cdn.commento.io","disqusShortname":"short-name-here"},"prism":{"enable":true,"ignoreMissing":true},"contactPage":true,"toc":{"enable":true,"maxDepth":2},"customNavigation":[{"label":"Contact","url":"/contact"}],"isr":{"enable":false,"maxNumberOfPosts":20,"maxNumberOfPages":20}},"title":"Freedom To Be","description":"Thoughts, stories and ideas.","logo":null,"icon":null,"accent_color":"#FF1A75","cover_image":"https://static.ghost.org/v4.0.0/images/publication-cover.jpg","facebook":"ghost","twitter":"@ghost","lang":"en","locale":"en","timezone":"Etc/UTC","codeinjection_head":null,"codeinjection_foot":null,"navigation":[{"label":"Home","url":"/"},{"label":"About","url":"/about/"},{"label":"Collection","url":"/tag/getting-started/"},{"label":"Author","url":"/author/ghost/"},{"label":"Portal","url":"/portal/"},{"label":"Contact","url":"/contact"}],"secondary_navigation":[{"label":"Data & privacy","url":"/privacy/"},{"label":"Contact","url":"/contact/"},{"label":"Contribute â†’","url":"/contribute/"}],"meta_title":null,"meta_description":null,"og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"members_support_address":"noreply","url":"http://localhost:2368","coverImage":{"url":"https://static.ghost.org/v4.0.0/images/publication-cover.jpg","dimensions":{"width":7183,"height":2885}}},"post":{"slug":"updating-package-json","id":"61003da385a1c51a91941926","uuid":"8da7fd9b-dfea-45d0-a56d-6a293b76e734","title":"Updating package.json","html":"<p>I hate when my <code>package.json</code> doesn't show the latest version after I upgrade my repository. I am aware the latest version of these packages can be checked in <code>package-lock.json</code> or <code>yarn.lock</code> but still I hate if they are not present in my <code>package.json</code></p><h2 id=\"so-what-am-i-going-to-do-about-it\">So what am I going to do about it?</h2><p>Well I can delete and reinstall all the <code>dependencies</code> and <code>devDependencies</code>. Its one of the most straightforward solution. So I wrote few lines of code which does exactly the same in <code>bash</code></p><h3 id=\"for-yarn\">For Yarn</h3><pre><code class=\"language-bash\"># clean old or unwanted files\nrm new_package.json\nrm -rf node_modules\nrm -rf yarn.lock\nrm package-lock.json\n\n# clean package.json\ndependencies=$(awk 'BEGIN{flag=0} /dependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}' package.json | cut -f 2 -d '\"')\ndevDependencies=$(awk 'BEGIN{flag=0} /devDependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}' package.json | cut -f 2 -d '\"')\nawk 'BEGIN{flag=1} /dependencies/{print; flag=0} /\\}/{flag=1} flag{print}' package.json | awk 'BEGIN{flag=1} /devDependencies/{print; flag=0} /\\}/{flag=1} flag{print}' | tee new_package.json\ncat new_package.json &gt; package.json\n\n# install dependencies and devDependencies\nyarn add ${dependencies}\nyarn add -D ${devDependencies}\n\n# Fix versions of errant packages which won't work with latest versions\nsed -i 's/\"refractor\": .*\"/\"refractor\": \"\\^3.4.0\"/g' package.json\nsed -i 's/\"unist-util-visit\": \".*\"/\"unist-util-visit\": \"^2.0.3\"/g' package.json\n\n# clean old or unwanted files\nrm new_package.json\nrm -rf node_modules\nrm -rf yarn.lock\nrm package-lock.json\n\n# install in one-shot\nyarn</code></pre><h3 id=\"for-npm\">For NPM</h3><pre><code class=\"language-bash\"># clean old or unwanted files\nrm new_package.json\nrm -rf node_modules\nrm -rf yarn.lock\nrm package-lock.json\n\n# clean package.json\ndependencies=$(awk 'BEGIN{flag=0} /dependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}' package.json | cut -f 2 -d '\"')\ndevDependencies=$(awk 'BEGIN{flag=0} /devDependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}' package.json | cut -f 2 -d '\"')\nawk 'BEGIN{flag=1} /dependencies/{print; flag=0} /\\}/{flag=1} flag{print}' package.json | awk 'BEGIN{flag=1} /devDependencies/{print; flag=0} /\\}/{flag=1} flag{print}' | tee new_package.json\ncat new_package.json &gt; package.json\n\n# install dependencies and devDependencies\nnpm -i ${dependencies}\nnpm -i -D ${devDependencies}\n\n# Fix versions of errant packages which won't work with latest versions\nsed -i 's/\"refractor\": .*\"/\"refractor\": \"\\^3.4.0\"/g' package.json\nsed -i 's/\"unist-util-visit\": \".*\"/\"unist-util-visit\": \"^2.0.3\"/g' package.json\n\n# clean old or unwanted files\nrm new_package.json\nrm -rf node_modules\nrm -rf yarn.lock\nrm package-lock.json\n\n# install in one-shot\nnpm install</code></pre><h2 id=\"future-road-map\">Future Road Map</h2><p>Well current solution is less than ideal and works only in Linux/Unix systems. In future I will try to make it happen for Windows platform as well.</p>","comment_id":"61003da385a1c51a91941926","feature_image":"https://images.unsplash.com/photo-1627396301006-df0f4c1cf221?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA&ixlib=rb-1.2.1&q=80&w=2000","featured":false,"visibility":"public","email_recipient_filter":"none","created_at":"2021-07-27T17:08:51.000+00:00","updated_at":"2021-07-27T17:18:45.000+00:00","published_at":"2021-07-27T17:18:45.000+00:00","custom_excerpt":null,"codeinjection_head":null,"codeinjection_foot":null,"custom_template":null,"canonical_url":null,"tags":[{"id":"61003ff585a1c51a9194195e","name":"npm","slug":"npm","description":null,"feature_image":null,"visibility":"public","og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"meta_title":null,"meta_description":null,"codeinjection_head":null,"codeinjection_foot":null,"canonical_url":null,"accent_color":null,"url":"http://localhost:2368/tag/npm/"},{"id":"61003ff585a1c51a9194195f","name":"bash","slug":"bash","description":null,"feature_image":null,"visibility":"public","og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"meta_title":null,"meta_description":null,"codeinjection_head":null,"codeinjection_foot":null,"canonical_url":null,"accent_color":null,"url":"http://localhost:2368/tag/bash/"},{"id":"61003ff585a1c51a91941960","name":"yarn","slug":"yarn","description":null,"feature_image":null,"visibility":"public","og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"meta_title":null,"meta_description":null,"codeinjection_head":null,"codeinjection_foot":null,"canonical_url":null,"accent_color":null,"url":"http://localhost:2368/tag/yarn/"},{"id":"61003ff585a1c51a91941961","name":"upgrading-packages","slug":"upgrading-packages","description":null,"feature_image":null,"visibility":"public","og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"meta_title":null,"meta_description":null,"codeinjection_head":null,"codeinjection_foot":null,"canonical_url":null,"accent_color":null,"url":"http://localhost:2368/tag/upgrading-packages/"}],"authors":[{"id":"1","name":"Sudhanshu","slug":"sudhanshu","profile_image":null,"cover_image":null,"bio":null,"website":null,"location":null,"facebook":null,"twitter":null,"meta_title":null,"meta_description":null,"url":"http://localhost:2368/author/sudhanshu/"}],"primary_author":{"id":"1","name":"Sudhanshu","slug":"sudhanshu","profile_image":null,"cover_image":null,"bio":null,"website":null,"location":null,"facebook":null,"twitter":null,"meta_title":null,"meta_description":null,"url":"http://localhost:2368/author/sudhanshu/"},"primary_tag":{"slug":"npm","id":"61003ff585a1c51a9194195e","name":"npm","description":null,"feature_image":null,"visibility":"public","og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"meta_title":null,"meta_description":null,"codeinjection_head":null,"codeinjection_foot":null,"canonical_url":null,"accent_color":null,"count":{"posts":1},"url":"http://localhost:2368/tag/npm/"},"url":"http://localhost:2368/updating-package-json/","excerpt":"I hate when my package.json doesn't show the latest version after I upgrade my\nrepository. I am aware the latest version of these packages can be checked in \npackage-lock.json or yarn.lock but still I hate if they are not present in my \npackage.json\n\nSo what am I going to do about it?\nWell I can delete and reinstall all the dependencies and devDependencies. Its\none of the most straightforward solution. So I wrote few lines of code which\ndoes exactly the same in bash\n\nFor Yarn\n# clean old or unwa","reading_time":2,"access":true,"send_email_when_published":false,"og_image":null,"og_title":null,"og_description":null,"twitter_image":null,"twitter_title":null,"twitter_description":null,"meta_title":null,"meta_description":null,"email_subject":null,"frontmatter":null,"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I hate when my ","position":{"start":{"line":1,"column":4,"offset":3},"end":{"line":1,"column":19,"offset":18}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json","position":{"start":{"line":1,"column":25,"offset":24},"end":{"line":1,"column":37,"offset":36}}}],"position":{"start":{"line":1,"column":19,"offset":18},"end":{"line":1,"column":44,"offset":43}}},{"type":"text","value":" doesn't show the latest version after I upgrade my repository. I am aware the latest version of these packages can be checked in ","position":{"start":{"line":1,"column":44,"offset":43},"end":{"line":1,"column":174,"offset":173}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package-lock.json","position":{"start":{"line":1,"column":180,"offset":179},"end":{"line":1,"column":197,"offset":196}}}],"position":{"start":{"line":1,"column":174,"offset":173},"end":{"line":1,"column":204,"offset":203}}},{"type":"text","value":" or ","position":{"start":{"line":1,"column":204,"offset":203},"end":{"line":1,"column":208,"offset":207}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"yarn.lock","position":{"start":{"line":1,"column":214,"offset":213},"end":{"line":1,"column":223,"offset":222}}}],"position":{"start":{"line":1,"column":208,"offset":207},"end":{"line":1,"column":230,"offset":229}}},{"type":"text","value":" but still I hate if they are not present in my ","position":{"start":{"line":1,"column":230,"offset":229},"end":{"line":1,"column":278,"offset":277}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json","position":{"start":{"line":1,"column":284,"offset":283},"end":{"line":1,"column":296,"offset":295}}}],"position":{"start":{"line":1,"column":278,"offset":277},"end":{"line":1,"column":303,"offset":302}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":307,"offset":306}}},{"type":"element","tagName":"h2","properties":{"id":"so-what-am-i-going-to-do-about-it"},"children":[{"type":"text","value":"So what am I going to do about it?","position":{"start":{"line":1,"column":350,"offset":349},"end":{"line":1,"column":384,"offset":383}}}],"position":{"start":{"line":1,"column":307,"offset":306},"end":{"line":1,"column":389,"offset":388}}},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Well I can delete and reinstall all the ","position":{"start":{"line":1,"column":392,"offset":391},"end":{"line":1,"column":432,"offset":431}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"dependencies","position":{"start":{"line":1,"column":438,"offset":437},"end":{"line":1,"column":450,"offset":449}}}],"position":{"start":{"line":1,"column":432,"offset":431},"end":{"line":1,"column":457,"offset":456}}},{"type":"text","value":" and ","position":{"start":{"line":1,"column":457,"offset":456},"end":{"line":1,"column":462,"offset":461}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"devDependencies","position":{"start":{"line":1,"column":468,"offset":467},"end":{"line":1,"column":483,"offset":482}}}],"position":{"start":{"line":1,"column":462,"offset":461},"end":{"line":1,"column":490,"offset":489}}},{"type":"text","value":". Its one of the most straightforward solution. So I wrote few lines of code which does exactly the same in ","position":{"start":{"line":1,"column":490,"offset":489},"end":{"line":1,"column":598,"offset":597}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bash","position":{"start":{"line":1,"column":604,"offset":603},"end":{"line":1,"column":608,"offset":607}}}],"position":{"start":{"line":1,"column":598,"offset":597},"end":{"line":1,"column":615,"offset":614}}}],"position":{"start":{"line":1,"column":389,"offset":388},"end":{"line":1,"column":619,"offset":618}}},{"type":"element","tagName":"h3","properties":{"id":"for-yarn"},"children":[{"type":"text","value":"For Yarn","position":{"start":{"line":1,"column":637,"offset":636},"end":{"line":1,"column":645,"offset":644}}}],"position":{"start":{"line":1,"column":619,"offset":618},"end":{"line":1,"column":650,"offset":649}}},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# clean old or unwanted files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" new_package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf node_modules\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf yarn.lock\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" package-lock.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# clean package.json"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"dependencies"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=0} /dependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}'"}]},{"type":"text","value":" package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cut"}]},{"type":"text","value":" -f "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"text","value":" -d "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\"'"}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"devDependencies"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=0} /devDependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}'"}]},{"type":"text","value":" package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cut"}]},{"type":"text","value":" -f "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"text","value":" -d "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\"'"}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=1} /dependencies/{print; flag=0} /\\}/{flag=1} flag{print}'"}]},{"type":"text","value":" package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=1} /devDependencies/{print; flag=0} /\\}/{flag=1} flag{print}'"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"tee"}]},{"type":"text","value":" new_package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cat"}]},{"type":"text","value":" new_package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" package.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# install dependencies and devDependencies"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"add"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"${dependencies}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"add"}]},{"type":"text","value":" -D "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"${devDependencies}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Fix versions of errant packages which won't work with latest versions"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sed"}]},{"type":"text","value":" -i "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'s/\"refractor\": .*\"/\"refractor\": \"\\^3.4.0\"/g'"}]},{"type":"text","value":" package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sed"}]},{"type":"text","value":" -i "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'s/\"unist-util-visit\": \".*\"/\"unist-util-visit\": \"^2.0.3\"/g'"}]},{"type":"text","value":" package.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# clean old or unwanted files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" new_package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf node_modules\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf yarn.lock\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" package-lock.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# install in one-shot"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]}],"position":{"start":{"line":1,"column":655,"offset":654},"end":{"line":28,"column":12,"offset":1758}}}],"position":{"start":{"line":1,"column":650,"offset":649},"end":{"line":28,"column":18,"offset":1764}}},{"type":"element","tagName":"h3","properties":{"id":"for-npm"},"children":[{"type":"text","value":"For NPM","position":{"start":{"line":28,"column":35,"offset":1781},"end":{"line":28,"column":42,"offset":1788}}}],"position":{"start":{"line":28,"column":18,"offset":1764},"end":{"line":28,"column":47,"offset":1793}}},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# clean old or unwanted files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" new_package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf node_modules\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf yarn.lock\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" package-lock.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# clean package.json"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"dependencies"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=0} /dependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}'"}]},{"type":"text","value":" package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cut"}]},{"type":"text","value":" -f "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"text","value":" -d "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\"'"}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"devDependencies"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=0} /devDependencies/{flag=1; next} /\\}/{flag=0} flag{print $1}'"}]},{"type":"text","value":" package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cut"}]},{"type":"text","value":" -f "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"text","value":" -d "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\"'"}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=1} /dependencies/{print; flag=0} /\\}/{flag=1} flag{print}'"}]},{"type":"text","value":" package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"awk"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'BEGIN{flag=1} /devDependencies/{print; flag=0} /\\}/{flag=1} flag{print}'"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"tee"}]},{"type":"text","value":" new_package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cat"}]},{"type":"text","value":" new_package.json "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" package.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# install dependencies and devDependencies"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" -i "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"${dependencies}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" -i -D "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"${devDependencies}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Fix versions of errant packages which won't work with latest versions"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sed"}]},{"type":"text","value":" -i "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'s/\"refractor\": .*\"/\"refractor\": \"\\^3.4.0\"/g'"}]},{"type":"text","value":" package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sed"}]},{"type":"text","value":" -i "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'s/\"unist-util-visit\": \".*\"/\"unist-util-visit\": \"^2.0.3\"/g'"}]},{"type":"text","value":" package.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# clean old or unwanted files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" new_package.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf node_modules\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf yarn.lock\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" package-lock.json\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# install in one-shot"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]}],"position":{"start":{"line":28,"column":52,"offset":1798},"end":{"line":55,"column":19,"offset":2905}}}],"position":{"start":{"line":28,"column":47,"offset":1793},"end":{"line":55,"column":25,"offset":2911}}},{"type":"element","tagName":"h2","properties":{"id":"future-road-map"},"children":[{"type":"text","value":"Future Road Map","position":{"start":{"line":55,"column":50,"offset":2936},"end":{"line":55,"column":65,"offset":2951}}}],"position":{"start":{"line":55,"column":25,"offset":2911},"end":{"line":55,"column":70,"offset":2956}}},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Well current solution is less than ideal and works only in Linux/Unix systems. In future I will try to make it happen for Windows platform as well.","position":{"start":{"line":55,"column":73,"offset":2959},"end":{"line":55,"column":220,"offset":3106}}}],"position":{"start":{"line":55,"column":70,"offset":2956},"end":{"line":55,"column":224,"offset":3110}}}],"data":{"quirksMode":false},"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":55,"column":224,"offset":3110}}},"featureImage":{"url":"https://images.unsplash.com/photo-1627396301006-df0f4c1cf221?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA&ixlib=rb-1.2.1&q=80&w=2000","dimensions":{"width":2000,"height":1336}},"toc":[{"id":"so-what-am-i-going-to-do-about-it","heading":"So what am I going to do about it?","items":[{"id":"for-yarn","heading":"For Yarn"},{"id":"for-npm","heading":"For NPM"}]},{"id":"future-road-map","heading":"Future Road Map"}]},"page":null,"contactPage":null,"isPost":true,"seoImage":{"url":"https://images.unsplash.com/photo-1627396301006-df0f4c1cf221?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxMTc3M3wwfDF8YWxsfDE0fHx8fHx8Mnx8MTYyNzQwNTcwOA&ixlib=rb-1.2.1&q=80&w=2000","dimensions":{"width":2000,"height":1336}},"previewPosts":[],"prevPost":null,"nextPost":null,"bodyClass":"post-template"}},"__N_SSG":true}